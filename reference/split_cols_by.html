<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Declaring a column-split based on levels of a variable — split_cols_by • rtables</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Declaring a column-split based on levels of a variable — split_cols_by" />
<meta property="og:description" content="Will generate children for each subset of a categorical variable" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rtables</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0.0001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/roche/rtables">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Declaring a column-split based on levels of a variable</h1>
    <small class="dont-index">Source: <a href='https://github.com/roche/rtables/blob/master/R/colby_constructors.R'><code>R/colby_constructors.R</code></a></small>
    <div class="hidden name"><code>split_cols_by.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Will generate children for each subset of a categorical variable</p>
    </div>

    <pre class="usage"><span class='fu'>split_cols_by</span><span class='op'>(</span>
  <span class='va'>lyt</span>,
  <span class='va'>var</span>,
  labels_var <span class='op'>=</span> <span class='va'>var</span>,
  split_label <span class='op'>=</span> <span class='va'>var</span>,
  split_fun <span class='op'>=</span> <span class='cn'>NULL</span>,
  format <span class='op'>=</span> <span class='cn'>NULL</span>,
  nested <span class='op'>=</span> <span class='cn'>TRUE</span>,
  child_labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"default"</span>, <span class='st'>"visible"</span>, <span class='st'>"hidden"</span><span class='op'>)</span>,
  extra_args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  ref_group <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>lyt</th>
      <td><p>layout object pre-data used for tabulation</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>string, variable name</p></td>
    </tr>
    <tr>
      <th>labels_var</th>
      <td><p>string, name of variable containing labels to be displayed for the values of <code>var</code></p></td>
    </tr>
    <tr>
      <th>split_label</th>
      <td><p>string. Label string to be associated with the table generated by the split. Not to be confused with labels assigned to each child (which are based on the data and type of split during tabulation).</p></td>
    </tr>
    <tr>
      <th>split_fun</th>
      <td><p>function/NULL. custom splitting function See <code><a href='custom_split_funs.html'>custom_split_funs</a></code></p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>FormatSpec. Format associated with this split. Formats can be declared via strings (<code>"xx.x"</code>) or function. In cases such as <code>analyze</code> calls, they can character vectors or lists of functions.</p></td>
    </tr>
    <tr>
      <th>nested</th>
      <td><p>boolean, Add this as a new top-level split  (defining a new subtable directly under root). Defaults to <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>child_labels</th>
      <td><p>string. One of <code>"default"</code>, <code>"visible"</code>, <code>"hidden"</code>. What should the display behavior be for the  labels (ie label rows) of the children of this split. Defaults to <code>"default"</code> which flags the label row as visible only if the child has 0 content rows.</p></td>
    </tr>
    <tr>
      <th>extra_args</th>
      <td><p>list. Extra arguments to be passed to the tabulation function. Element position in thte list corresponds to the children of this split. Named elements in the child-specific lists are ignored if they do not match a formal argument of the ttabulation function.</p></td>
    </tr>
    <tr>
      <th>ref_group</th>
      <td><p>character(1) or <code>NULL</code>. Level of <code>var</code> which should be considered ref_group/reference</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>PreDataTableLayouts</code> object suitable for passing to further layouting functions, and to <code>build_table</code>.</p>
    <h2 class="hasAnchor" id="custom-splitting-function-details"><a class="anchor" href="#custom-splitting-function-details"></a>Custom Splitting Function Details</h2>

    


<p>User-defined custom split functions can perform any type of computation
on the incoming data provided that they meed the contract for generating
'splits' of the incoming data 'based on' the split object.</p>
<p>Split functions are functions that accept:</p><dl>
<dt>df</dt><dd><p>data.frame of incoming data to be split</p></dd>
<dt>spl</dt><dd><p>a Split object. this is largely an internal detail custom functions will not need to worry about,
but  <code>obj_name(spl)</code>, for example, will give the name of the split as it will appear in paths in the resulting table</p></dd>
<dt>vals</dt><dd><p>Any pre-calculated values. If given non-null values, the values returned should match these. Should be NULL in most cases and can likely be ignored</p></dd>
<dt>labels</dt><dd><p>Any pre-calculated value labels. Same as above for <code>values</code></p></dd>
<dt>trim</dt><dd><p>If <code>TRUE</code>, resulting splits that are empty should be removed</p></dd>
<dt>(Optional) .spl_context</dt><dd><p>a data.frame describing previously performed splits which collectively arrived at <code>df</code></p></dd>

</dl>

<p>The function must then output a <code>named list</code> with the following elements:</p>
<dl>
<dt>values</dt><dd><p>The vector of all values corresponding to the splits of <code>df</code></p></dd>
<dt>datasplit</dt><dd><p>a list of data.frames representing the groupings of the actual observations from <code>df</code>.</p></dd>
<dt>labels</dt><dd><p>a character vector giving a string label for each value listed in the <code>values</code> element above</p></dd>
<dt>(Optional) extras</dt><dd><p>If present, extra arguments to be passed to summary and analysis functions
whenever they are executed on the corresponding element of <code>datasplit</code> or a subset thereof</p></dd>

</dl>

<p>One way to generate custom splitting functions is to wrap existing split functions and modify either
the incoming data before they are called, or their outputs.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Gabriel Becker</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='va'>lyt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='basic_table.html'>basic_table</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"ARM"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AGE"</span>, <span class='st'>"BMRKR2"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='build_table.html'>build_table</a></span><span class='op'>(</span><span class='va'>lyt</span>, <span class='va'>ex_adsl</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>            A: Drug X   B: Placebo   C: Combination</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> --------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> AGE                                               </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean       33.77       35.43          35.43     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> BMRKR2                                            </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   LOW         50           45             40      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   MEDIUM      37           56             42      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   HIGH        47           33             50      </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Let's look at the splits in more detail</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>l</span> <span class='op'>&lt;-</span> <span class='fu'><a href='basic_table.html'>basic_table</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"ARM"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>l</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A Pre-data Table Layout</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Column-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ARM (lvls) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Row-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ( () -&gt;  () -&gt; ) () </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># add an analysis (summary)</span></span>
<span class='r-in'><span class='va'>l2</span> <span class='op'>&lt;-</span> <span class='va'>l</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>    <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AGE"</span>, <span class='st'>"COUNTRY"</span><span class='op'>)</span>, afun <span class='op'>=</span> <span class='fu'><a href='list_wrap_x.html'>list_wrap_x</a></span><span class='op'>(</span><span class='va'>summary</span><span class='op'>)</span> , format <span class='op'>=</span> <span class='st'>"xx.xx"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>l2</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A Pre-data Table Layout</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Column-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ARM (lvls) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Row-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ( (** multivar analysis **) -&gt; AGE, COUNTRY (** multivar analysis **) -&gt; ) (** multivar analysis **) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='build_table.html'>build_table</a></span><span class='op'>(</span><span class='va'>l2</span>, <span class='va'>DM</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>             A: Drug X   B: Placebo   C: Combination</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ---------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> AGE                                                </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Min.         20           21             22      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1st Qu.      29           29             30      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Median       33           32             33      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean        34.91       33.02          34.57     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3rd Qu.      39           37             38      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Max.         60           55             53      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> COUNTRY                                            </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CHN          62           48             69      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   USA          13           14             17      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   BRA           9           13             7       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   PAK           8           8              12      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   NGA          10           5              9       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   RUS           9           5              6       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   JPN           5           8              5       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   GBR           2           3              2       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CAN           3           2              2       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CHE           0           0              0       </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># By default sequentially adding layouts results in nesting</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>DM_MF</span> <span class='op'>&lt;-</span> <span class='va'>DM</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/dplyr/man/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>SEX</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"M"</span>, <span class='st'>"F"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/dplyr/man/mutate.html'>mutate</a></span><span class='op'>(</span>SEX <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span><span class='op'>(</span><span class='va'>SEX</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>l3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='basic_table.html'>basic_table</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"ARM"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"SEX"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AGE"</span>, <span class='st'>"COUNTRY"</span><span class='op'>)</span>, afun <span class='op'>=</span> <span class='fu'><a href='list_wrap_x.html'>list_wrap_x</a></span><span class='op'>(</span><span class='va'>summary</span><span class='op'>)</span>, format <span class='op'>=</span> <span class='st'>"xx.xx"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>l3</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A Pre-data Table Layout</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Column-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ARM (lvls) -&gt; SEX (lvls) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Row-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ( (** multivar analysis **) -&gt; AGE, COUNTRY (** multivar analysis **) -&gt; ) (** multivar analysis **) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'></span>
<span class='r-in'> <span class='fu'><a href='build_table.html'>build_table</a></span><span class='op'>(</span><span class='va'>l3</span>, <span class='va'>DM_MF</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>               A: Drug X      B: Placebo      C: Combination  </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>               F       M       F       M        F         M   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> -------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> AGE                                                          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Min.       20      24      21      21       22        25   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1st Qu.    29      31      29      28       30        29   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Median     32      35      33      31       35        32   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean      33.71   36.55   33.84   32.1     34.89     34.28 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3rd Qu.    38     41.5     38     35.75     39        38   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Max.       58      60      55      47       53        53   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> COUNTRY                                                      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CHN        34      28      29      19       31        38   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   USA         8       5       6       8       10         7   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   BRA         6       3       6       7        3         4   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   PAK         2       6       5       3        5         7   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   NGA         6       4       2       3        5         4   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   RUS         7       2       1       4        2         4   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   JPN         2       3       3       5        4         1   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   GBR         2       0       3       0        1         1   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CAN         3       0       1       1        0         2   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   CHE         0       0       0       0        0         0   </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># nested=TRUE vs not</span></span>
<span class='r-in'><span class='va'>l4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='basic_table.html'>basic_table</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"ARM"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='split_rows_by.html'>split_rows_by</a></span><span class='op'>(</span><span class='st'>"SEX"</span>, split_fun <span class='op'>=</span> <span class='va'>drop_split_levels</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='split_rows_by.html'>split_rows_by</a></span><span class='op'>(</span><span class='st'>"RACE"</span>, split_fun <span class='op'>=</span> <span class='va'>drop_split_levels</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='st'>"AGE"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>l4</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A Pre-data Table Layout</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Column-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ARM (lvls) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Row-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> SEX (lvls) -&gt; RACE (lvls) -&gt; AGE (** analysis **) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'><span class='fu'><a href='build_table.html'>build_table</a></span><span class='op'>(</span><span class='va'>l4</span>, <span class='va'>DM</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                               A: Drug X   B: Placebo   C: Combination</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ---------------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> F                                                                    </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ASIAN                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                        33.55         34            34.9     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   BLACK OR AFRICAN AMERICAN                                          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                        33.17       30.58          33.85     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   WHITE                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                        35.88       38.57           36.5     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> M                                                                    </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ASIAN                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                        35.03        31.1          34.39     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   BLACK OR AFRICAN AMERICAN                                          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                        37.4        32.83          34.14     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   WHITE                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     Mean                         44         35.29            34      </span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>l5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='basic_table.html'>basic_table</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span> <span class='fu'>split_cols_by</span><span class='op'>(</span><span class='st'>"ARM"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='split_rows_by.html'>split_rows_by</a></span><span class='op'>(</span><span class='st'>"SEX"</span>, split_fun<span class='op'>=</span> <span class='va'>drop_split_levels</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='st'>"AGE"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='split_rows_by.html'>split_rows_by</a></span><span class='op'>(</span><span class='st'>"RACE"</span>, nested<span class='op'>=</span><span class='cn'>FALSE</span>, split_fun <span class='op'>=</span> <span class='va'>drop_split_levels</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/magrittr/man/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='analyze.html'>analyze</a></span><span class='op'>(</span><span class='st'>"AGE"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>l5</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A Pre-data Table Layout</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Column-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ARM (lvls) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Row-Split Structure:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> SEX (lvls) -&gt; AGE (** analysis **) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> RACE (lvls) -&gt; AGE (** analysis **) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'><span class='fu'><a href='build_table.html'>build_table</a></span><span class='op'>(</span><span class='va'>l5</span>, <span class='va'>DM</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                             A: Drug X   B: Placebo   C: Combination</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> -------------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> F                                                                  </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean                        33.71       33.84          34.89     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> M                                                                  </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean                        36.55        32.1          34.28     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ASIAN                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean                        34.2        32.68          34.63     </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> BLACK OR AFRICAN AMERICAN                                          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean                        34.68       31.71            34      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> WHITE                                                              </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Mean                        39.36       36.93          35.11     </span>
<span class='r-in'></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gabriel Becker, Adrian Waddell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


